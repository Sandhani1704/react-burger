(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{10:function(e,t,n){e.exports={order:"order-item-details_order__2FvsZ",number:"order-item-details_number__stThw","order-name":"order-item-details_order-name__ytVJn","status-done":"order-item-details_status-done__2dHyh","left-align":"order-item-details_left-align__34W9k",ingredients:"order-item-details_ingredients__1ThRJ",ingredient:"order-item-details_ingredient__3OTYO","ingredient-preview":"order-item-details_ingredient-preview__1IKl1",price:"order-item-details_price__1XJGZ","order-price":"order-item-details_order-price__3cPGg","image-box":"order-item-details_image-box__2gmbr",content:"order-item-details_content__3MofV","bottom-content":"order-item-details_bottom-content__7KDxn"}},100:function(e,t,n){e.exports={wrapper:"loader_wrapper__UkZQb"}},101:function(e,t,n){e.exports={overlay:"modal-overlay_overlay__3tZ0G"}},102:function(e,t,n){e.exports={"main-element":"burger-constructor-main-element_main-element__2IzGs"}},103:function(e,t,n){},104:function(e,t,n){e.exports={title:"ingredient-details-page_title__25sYC"}},112:function(e,t,n){},14:function(e,t,n){e.exports={container:"feed_container__1051O",content:"feed_content__2pe8j",list:"feed_list__6gbkV",info:"feed_info__tmrb2",status:"feed_status__1pk7n",item:"feed_item__1ebTZ","item-done":"feed_item-done__2Q9fC",done:"feed_done__jM033",glow:"feed_glow__3mmJo",link:"feed_link___vaLt"}},17:function(e,t,n){e.exports={constructor:"burger-constructor_constructor__Xhhr3",container:"burger-constructor_container__35gCy","top-container":"burger-constructor_top-container__2qKcP","bottom-container":"burger-constructor_bottom-container__tknJ9",order:"burger-constructor_order__12w1r",icon:"burger-constructor_icon__2w9mw",total:"burger-constructor_total__2Bwd5","scroll-container":"burger-constructor_scroll-container__d5nix","main-element":"burger-constructor_main-element__3CxQZ",onHover:"burger-constructor_onHover__2tim-",info:"burger-constructor_info__1fDuF",text:"burger-constructor_text__3O3XZ"}},18:function(e,t,n){e.exports={header:"app-header_header__cYNP5",content:"app-header_content__3hhck",item:"app-header_item__3R9R6",item__profile:"app-header_item__profile__QOhNS",left:"app-header_left__32crU",center:"app-header_center__29nM5",right:"app-header_right__2kLRy",active:"app-header_active__WFm6G"}},189:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(23),i=n.n(a),s=(n(112),n(5)),o=n(18),l=n.n(o),d=n(4),u=n(8),j=n(0),m=function(){var e="/profile"===Object(u.h)().pathname;return Object(j.jsx)("header",{className:"".concat(l.a.header," pt-4 pb-4"),children:Object(j.jsxs)("nav",{className:"".concat(l.a.content),children:[Object(j.jsxs)("div",{className:"".concat(l.a.left," pl-5 mr-2"),children:[Object(j.jsxs)(s.c,{className:l.a.item+" pl-5 pr-5 pt-4 pb-4",exact:!0,to:"/",activeClassName:l.a.active,children:[Object(j.jsx)(d.BurgerIcon,{type:"secondary"}),Object(j.jsx)("p",{className:"text text_type_main-default ml-2 mr-5",children:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"})]}),Object(j.jsxs)(s.c,{className:l.a.item+" pl-5 pr-5 pt-4 pb-4",exact:!0,to:"/feed",activeClassName:l.a.active,children:[Object(j.jsx)(d.ListIcon,{type:"secondary"}),Object(j.jsx)("p",{className:"text text_type_main-default ml-2 mr-5 text_color_inactive",children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})]})]}),Object(j.jsx)(s.c,{className:l.a.center,to:"/",children:Object(j.jsx)(d.Logo,{})}),Object(j.jsxs)(s.c,{className:l.a.right+" pl-5 pr-5 pt-4 pb-4",to:"/profile",exact:!0,activeClassName:"".concat(e&&l.a.active),children:[Object(j.jsx)(d.ProfileIcon,{type:"secondary"}),Object(j.jsx)("p",{className:"text text_type_main-default ml-2 mr-5",children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})]})]})})},b=n(97),_=n.n(b),p=n(68),O=n.n(p),x=n(7),f=n(49),h=n.n(f),g=n(28),v=function(){return Object(g.b)()},y=g.c,N=n(195),E=function(e){var t=e.info,n=e.onIngredientClick,r=y((function(e){return e.burgersConstructor.addedIngredients})),a=Object(N.a)((function(){return{type:"ingredient",item:{info:t},collect:function(e){return{isDrag:e.isDragging()}}}})),i=Object(x.a)(a,2)[1],o=Object(c.useMemo)((function(){return r.filter((function(e){return e._id===t._id})).length}),[r,t._id]),l=Object(u.h)();return Object(j.jsxs)(s.b,{className:h.a.content,onClick:function(){n(t)},ref:i,to:{pathname:"/ingredients/".concat(t._id),state:{background:l}},children:[Object(j.jsx)("img",{className:"mb-1",src:t.image,alt:"\u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442 ".concat(t.name)}),Object(j.jsxs)("span",{className:"text text_type_digits-default mb-1 ".concat(h.a.price),children:[t.price," ",Object(j.jsx)(d.CurrencyIcon,{type:"primary"})]}),Object(j.jsx)("span",{className:"".concat(h.a.caption," text text_type_main-default"),children:t.name}),o?Object(j.jsx)(d.Counter,{count:o,size:"default"}):null]})},T=n(19),I=n.n(T),C="DISPLAY_INGREDIENT_INFO",k="HIDE_INGREDIENT_INFO",S="ADD_INGREDIENT",R="DELETE_ITEM",w="SORT_INGREDIENTS",D="CLEAR_PREV_ORDER",P="CHANGE_ACTIVE_TAB",M=function(e){var t=e.color,n=void 0===t?"#3C39EC":t;return Object(j.jsx)("svg",{width:40,height:40,viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:n,children:Object(j.jsx)("g",{fill:"none",fillRule:"evenodd",children:Object(j.jsxs)("g",{transform:"translate(1 1)",strokeWidth:"2",children:[Object(j.jsx)("circle",{strokeOpacity:".5",cx:"18",cy:"18",r:"18"}),Object(j.jsx)("path",{d:"M36 18c0-9.94-8.06-18-18-18",children:Object(j.jsx)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})})]})})})},U=n(100),F=n.n(U),G=function(){return Object(j.jsx)("div",{className:F.a.wrapper,children:Object(j.jsx)(M,{color:"#4C4CFF"})})},B=n(26),H=n.n(B);var L=function(){var e=y((function(e){return e.ingredientInfo})).selectedIngredient,t=y((function(e){return e.burgerIngredientsData})).ingredients,n=Object(u.i)().id,c=e||t.find((function(e){return e._id===n}));return t.length?c?Object(j.jsxs)("div",{className:"mb-15 ".concat(H.a.content),children:[Object(j.jsx)("div",{className:"mb-4 ".concat(H.a.image_wrapper),children:Object(j.jsx)("img",{src:c.image_large,alt:c.name})}),Object(j.jsx)("span",{className:"mb-8 text text_type_main-medium",children:c.name}),Object(j.jsxs)("div",{className:H.a.nutrition,children:[Object(j.jsxs)("div",{className:H.a.item,children:[Object(j.jsx)("span",{className:"text text_type_main-default text_color_inactive",children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438,\u043a\u043a\u0430\u043b"}),Object(j.jsx)("span",{className:"text text_type_digits-default text_color_inactive",children:c.calories})]}),Object(j.jsxs)("div",{className:H.a.item,children:[Object(j.jsx)("span",{className:"text text_type_main-default text_color_inactive",children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(j.jsx)("span",{className:"text text_type_digits-default text_color_inactive",children:c.proteins})]}),Object(j.jsxs)("div",{className:H.a.item,children:[Object(j.jsx)("span",{className:"text text_type_main-default text_color_inactive",children:"\u0416\u0438\u0440\u044b, \u0433"}),Object(j.jsx)("span",{className:"text text_type_digits-default text_color_inactive",children:c.fat})]}),Object(j.jsxs)("div",{className:H.a.item,children:[Object(j.jsx)("span",{className:"text text_type_main-default text_color_inactive",children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(j.jsx)("span",{className:"text text_type_digits-default text_color_inactive",children:c.carbohydrates})]})]})]}):Object(j.jsx)(u.a,{to:"/notfound"}):null},A=n(38),q=n.n(A),J=n(101),W=n.n(J),z=function(e){var t=e.onModalHideClick;return i.a.createPortal(Object(j.jsx)("div",{className:W.a.overlay,onClick:t}),document.body)},Q=document.getElementById("react-modals"),X=function(e){var t=e.title,n=e.children,c=e.onModalHideClick;return r.a.useEffect((function(){function e(e){"Escape"===e.key&&c()}return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}})),Q?i.a.createPortal(Object(j.jsxs)("div",{children:[Object(j.jsx)(z,{onModalHideClick:c}),Object(j.jsx)("div",{className:q.a.popup,children:Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"ml-10 mr-10 ".concat(q.a.container),children:[Object(j.jsx)("div",{className:"text text_type_main-large ".concat(q.a.title),children:t}),Object(j.jsx)("button",{type:"button",className:q.a["close-icon"],onClick:c,children:Object(j.jsx)(d.CloseIcon,{type:"primary"})})]}),n]})})]}),Q):null};var Z=function(){var e=Object(c.useRef)(null),t=Object(c.useRef)(null),n=Object(c.useRef)(null),a=r.a.useState(!1),i=Object(x.a)(a,2),s=i[0],o=i[1],l=v(),u=y((function(e){return e.burgerIngredientsData})),m=u.ingredients,b=u.itemsRequest,_=u.itemsFailed,p=y((function(e){return e.burgersConstructor})).currentTab,O=function(e){s||(o(!0),l({type:C,info:e}))};Object(c.useEffect)((function(){var e=document.getElementById("ingredientCont"),t=function(){var e=document.getElementById("tabs"),t=document.getElementById("buns"),n=document.getElementById("sauces"),c=document.getElementById("main"),r=function(t){if(null!==e&&null!==t)return t.getBoundingClientRect().top-150<=e.getBoundingClientRect().bottom};if(r(t)){l({type:P,activeTab:"buns"})}if(r(n)){l({type:P,activeTab:"sauces"})}if(r(c)){l({type:P,activeTab:"main"})}};return null===e||void 0===e||e.addEventListener("scroll",t),function(){return null===e||void 0===e?void 0:e.removeEventListener("scroll",t)}}),[l]);var f=function(c,r){return function(){if(l({type:P,value:c}),!r.current)return null;e.current&&t.current&&n.current&&r.current.scrollIntoView({block:"start",behavior:"smooth"})}};return Object(j.jsxs)("div",{className:"".concat(I.a.types," "),children:[Object(j.jsxs)("div",{className:"".concat(I.a.tabs," mt-5 mb-10"),id:"tabs",children:[Object(j.jsx)(d.Tab,{value:"buns",active:"buns"===p,onClick:f("buns",e),children:"\u0411\u0443\u043b\u043a\u0438"}),Object(j.jsx)(d.Tab,{value:"sauces",active:"sauces"===p,onClick:f("sauces",t),children:"\u0421\u043e\u0443\u0441\u044b"}),Object(j.jsx)(d.Tab,{value:"main",active:"main"===p,onClick:f("main",n),children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"})]}),Object(j.jsx)("div",{className:I.a.container,id:"ingredientCont",children:b?Object(j.jsx)(G,{}):_?Object(j.jsx)("p",{className:"text text_type_main-medium",children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0431\u0440\u0430\u0443\u0437\u0435\u0440."}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("section",{className:"".concat(I.a.content," mb-10"),id:"buns",ref:e,children:[Object(j.jsx)("h2",{className:"text text_type_main-medium mb-6",children:"\u0411\u0443\u043b\u043a\u0438"}),Object(j.jsx)("div",{className:I.a.list,children:m.filter((function(e){return"bun"===e.type})).map((function(e){return Object(j.jsx)(E,{info:e,onIngredientClick:O},e._id)}))})]}),Object(j.jsxs)("section",{className:"".concat(I.a.content," mb-10"),id:"sauces",ref:t,children:[Object(j.jsx)("h2",{className:"text text_type_main-medium mb-6",children:"\u0421\u043e\u0443\u0441\u044b"}),Object(j.jsx)("div",{className:I.a.list,children:m.filter((function(e){return"sauce"===e.type})).map((function(e){return Object(j.jsx)(E,{info:e,onIngredientClick:O},e._id)}))})]}),Object(j.jsxs)("section",{className:"".concat(I.a.content," mb-10"),id:"main",ref:n,children:[Object(j.jsx)("h2",{className:"text text_type_main-medium mb-6",children:"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b"}),Object(j.jsx)("div",{className:I.a.list,children:m.filter((function(e){return"main"===e.type})).map((function(e){return Object(j.jsx)(E,{info:e,onIngredientClick:O},e._id)}))})]})]})}),s&&Object(j.jsx)(X,{title:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430",onModalHideClick:function(){o(!1),l({type:k})},children:Object(j.jsx)(L,{})})]})},V=n(17),K=n.n(V),Y=n(102),$=n.n(Y),ee=n(196),te=function(e){var t=e.item,n=e.index,r=e.deleteIngredient,a=v(),i=Object(c.useRef)(null),s=Object(N.a)({type:"main",item:function(){return{index:n}},collect:function(e){return{isDragging:e.isDragging()}}}),o=Object(x.a)(s,2),l=(o[0].isDragging,o[1]),u=Object(ee.a)({accept:"main",collect:function(e){return{isHovered:e.isOver()}},hover:function(e,t){var c=e.index,r=n;i.current&&c!==r&&(a({type:w,dragIndex:c,hoverIndex:r}),e.index=r)}});return l((0,Object(x.a)(u,2)[1])(i)),Object(j.jsxs)("div",{ref:i,className:$.a["main-element"],children:[Object(j.jsx)(d.DragIcon,{type:"primary"}),Object(j.jsx)(d.ConstructorElement,{text:t.name,price:t.price,thumbnail:t.image,handleClose:function(){return r(n)}})]},n)},ne=n(2),ce=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=(n=Object(ne.a)({path:"/"},n)).expires;if("number"==typeof c&&c){var r=new Date;r.setTime(r.getTime()+1e3*c),c=n.expires=r}c&&c.toUTCString&&(n.expires=c.toUTCString());var a=e+"="+(t=encodeURIComponent(t));for(var i in n){a+="; "+i;var s=n[i];!0!==s&&(a+="="+s)}document.cookie=a};function re(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}var ae=function(e){return e.replace(/Bearer\s+/g,"")},ie="https://norma.nomoreparties.space/api",se="wss://norma.nomoreparties.space/orders/all",oe="wss://norma.nomoreparties.space/orders",le="".concat(ie,"/ingredients"),de="".concat(ie,"/orders");var ue="".concat(ie,"/auth/register"),je="".concat(ie,"/auth/login"),me="".concat(ie,"/auth/user"),be="".concat(ie,"/auth/logout"),_e="".concat(ie,"/auth/token"),pe="".concat(ie,"/password-reset"),Oe="".concat(ie,"/password-reset/reset"),xe=("".concat(ie,"/orders"),function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))});var fe="GET_USER_REQUEST",he="SET_USER_INFO",ge="REMOVE_USER_INFO",ve="RESPONSED_EMAIL",ye="SET_LOGIN_REQUEST_ERROR",Ne="SET_REGISTER_REQUEST_ERROR",Ee="SET_LOGOUT_REQUEST_ERROR",Te="REFRESH_TOKEN_REQUEST",Ie="REFRESH_TOKEN_SUCCESS",Ce="REFRESH_TOKEN_ERROR",ke=function(e,t){ce("accessToken",ae(e.accessToken),{expires:"Fri, 31 Dec 9999 23:59:59 GMT"}),localStorage.setItem("refreshToken",ae(e.refreshToken)),t({type:he,user:e.user})},Se=function(e,t,n){return function(c){(function(e,t,n){return fetch(ue,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n,name:e})}).then((function(e){return xe(e)}))})(e,t,n).then((function(e){if(!0!==e.success)return Promise.reject(e);ke(e,c)})).catch((function(e){return c({type:Ne,message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438: ".concat(e.message)})}))}},Re=function(e,t){return function(n){(function(e,t){return fetch(je,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then((function(e){return xe(e)}))})(e,t).then((function(e){if(!0!==e.success)return Promise.reject(e);ke(e,n)})).catch((function(e){return n({type:ye,message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438: ".concat(e.message)})}))}},we=function(e){return function(t){fetch(be,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:localStorage.getItem("refreshToken")})}).then((function(e){return xe(e)})).then((function(n){return!0===n.success?(localStorage.removeItem("refreshToken"),ce("accessToken","",{expires:0}),t({type:ge}),void e.push("/login")):(e.push("/profile"),Promise.reject(n))})).catch((function(n){t({type:Ee,message:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 ".concat(n.message)}),e.push("/profile")}))}},De=function(){return function(e){e({type:Te}),fetch(_e,{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",cache:"no-cache",credentials:"same-origin",body:JSON.stringify({token:localStorage.getItem("refreshToken")})}).then((function(e){return xe(e)})).then((function(t){ce("accessToken",ae(t.accessToken),{expires:"Fri, 31 Dec 9999 23:59:59 GMT"}),localStorage.setItem("refreshToken",t.refreshToken),e({type:Ie})})).catch((function(t){e({type:Ce})}))}},Pe=function(){return function(e){fetch(me,{method:"GET",headers:{"Content-Type":"application/json",mode:"cors",cache:"no-cache",credentials:"same-origin",Authorization:"Bearer "+re("accessToken")}}).then((function(e){return xe(e)})).then((function(t){if(!0!==t.success)return Promise.reject(t);e({type:he,user:t.user})})).catch((function(t){"jwt expired"!==t.message&&"Token is invalid"!==t.message||e(De()),console.log(t),ce("accessToken","",{expires:-1}),localStorage.removeItem("refreshToken")}))}},Me=function(e,t,n){return function(c){(function(e,t,n){return fetch(me,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer "+re("accessToken")},body:JSON.stringify({name:e,email:t,password:n})}).then((function(e){return xe(e)}))})(e,t,n).then((function(e){if(!0!==e.success)return Promise.reject(e);c({type:he,user:e.user})})).catch((function(e){console.log(e),"jwt expired"!==e.message&&"jwt malformed"!==e.message||c(De())}))}},Ue=function(e,t){return function(n){(function(e){return fetch(pe,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}).then((function(e){return xe(e)}))})(e).then((function(e){return!0===e.success?(n({type:ve}),void t.push("/reset-password")):Promise.reject(e)})).catch((function(e){return console.log(e),Promise.reject(e)}))}},Fe=function(e,t,n){return function(c){(function(e,t){return fetch(Oe,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e,token:t})}).then((function(e){return xe(e)}))})(e,t).then((function(e){if(!0!==e.success)return Promise.reject(e);n.push("/login")})).catch((function(e){return console.log(e),Promise.reject(e)}))}},Ge="GET_ORDER_SUCCESS",Be="GET_ORDER_REQUEST",He="GET_ORDER_FAILED",Le="HIDE_ORDER_INFO",Ae=function(e){return function(t){t({type:Be}),function(e){var t={ingredients:e};return fetch(de,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+re("accessToken")},body:JSON.stringify(t)}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))}))}(e).then((function(e){return t({type:Ge,order:e.order})})).catch((function(e){"jwt expired"!==e.message?t({type:He}):t(De())}))}},qe=n(70),Je=n.n(qe),We=n.p+"static/media/graphics.95470a5b.png",ze=function(){var e=y((function(e){return e.order})),t=e.numberOrder,n=e.orderRequest,c=e.orderRequestFaild;return y((function(e){return e.userInfo})).userUnfo.email?Object(j.jsx)("div",{className:"mb-15 ".concat(Je.a.container),children:n?Object(j.jsx)(G,{}):c?Object(j.jsx)("p",{className:"text text_type_main-medium",children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437."}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("span",{className:"text text_type_digits-large mb-8",children:null===t||void 0===t?void 0:t.number}),Object(j.jsx)("span",{className:"text text_type_main-medium mb-15",children:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(j.jsx)("img",{src:We,className:"mb-15 ".concat(Je.a.image),alt:"\u0438\u043a\u043e\u043d\u043a\u0430 \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438"}),Object(j.jsx)("span",{className:"text text_type_main-default  mb-2",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(j.jsx)("span",{className:"text text_type_main-small text_color_inactive mb-30",children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]})}):Object(j.jsx)(u.a,{to:"/login"})},Qe=function(){var e=r.a.useState(!1),t=Object(x.a)(e,2),n=t[0],a=t[1],i=v(),s=y((function(e){return e.burgersConstructor})).addedIngredients,o=s.map((function(e){return null===e||void 0===e?void 0:e._id})),l=function(e){i({type:R,index:e})},u=Object(ee.a)({accept:"ingredient",drop:function(e){i({type:S,ingredient:e.info})},collect:function(e){return{isHover:e.isOver()}}}),m=Object(x.a)(u,2),b=m[0].isHover,_=m[1],p=Object(c.useMemo)((function(){return s.reduce((function(e,t){return e+t.price}),0)}),[s]),O=r.a.useMemo((function(){return s.find((function(e){return"bun"===e.type}))}),[s]);return Object(j.jsxs)("div",{ref:_,className:"".concat(K.a.constructor," pt-13 pl-10 \n    ").concat(b&&K.a.onHover),children:[s.length?Object(j.jsxs)("div",{className:K.a.container,children:[Object(j.jsx)("div",{className:"".concat(K.a["top-container"]),children:O&&Object(j.jsx)("div",{style:{display:"flex",gap:"16px",justifyContent:"flex-end"},children:Object(j.jsx)(d.ConstructorElement,{type:"top",isLocked:!0,text:O.name+" (\u0432\u0435\u0440\u0445)",price:O.price,thumbnail:O.image})})}),Object(j.jsx)("div",{className:K.a["scroll-container"],children:s.map((function(e,t){return"bun"!==e.type?Object(j.jsx)(te,{index:t,item:e,deleteIngredient:l},t):null}))}),Object(j.jsx)("div",{className:K.a["bottom-container"],children:O&&Object(j.jsx)("div",{style:{display:"flex",gap:"16px",justifyContent:"flex-end"},children:Object(j.jsx)(d.ConstructorElement,{type:"bottom",isLocked:!0,text:O.name+" (\u043d\u0438\u0437)",price:O.price,thumbnail:O.image})})})]}):Object(j.jsxs)("div",{className:K.a.info,children:[Object(j.jsx)("p",{className:"".concat(K.a.text," text text_type_main-default text_color_inactive"),children:"\u041f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u0435 \u0441\u044e\u0434\u0430 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u044b \u0434\u043b\u044f \u0431\u0443\u0440\u0433\u0435\u0440\u0430"}),Object(j.jsx)("p",{className:"".concat(K.a.text," text text_type_main-default text_color_inactive"),children:"\u0414\u043b\u044f \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u0430 \u043d\u0443\u0436\u043d\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u0438\u043f \u0431\u0443\u043b\u043a\u0438."})]}),Object(j.jsxs)("div",{className:"".concat(K.a.order," mr-4 mt-10"),children:[Object(j.jsxs)("div",{className:"text mr-10 ".concat(K.a.total),children:[Object(j.jsx)("p",{className:"text text_type_digits-medium",children:p}),Object(j.jsx)(d.CurrencyIcon,{type:"primary"})]}),O&&Object(j.jsx)(d.Button,{type:"primary",size:"medium",onClick:function(){return function(e){n||(a(!0),i(Ae(e)))}(o)},children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]}),n&&Object(j.jsx)(X,{title:"",onModalHideClick:function(){a(!1),i({type:Le}),i({type:D})},children:Object(j.jsx)(ze,{})})]})},Xe=n(194),Ze=n(106);var Ve=function(){return Object(j.jsxs)("main",{className:" ".concat(O.a.main," pt-10"),children:[Object(j.jsx)("h1",{className:"text text_type_main-large",children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(j.jsx)(Xe.a,{backend:Ze.a,children:Object(j.jsxs)("div",{className:O.a.content,children:[Object(j.jsx)(Z,{}),Object(j.jsx)(Qe,{})]})})]})};var Ke=function(){return Object(j.jsx)(Ve,{})},Ye=n(39),$e=n.n(Ye);var et=function(){var e,t=y((function(e){return e.userInfo})),n=t.userUnfo,r=t.loginError,a=Object(u.h)(),i=v(),o=Object(c.useState)(""),l=Object(x.a)(o,2),m=l[0],b=l[1],_=Object(c.useState)(""),p=Object(x.a)(_,2),O=p[0],f=p[1];return Object(c.useEffect)((function(){i({type:ye})}),[i]),n.email?Object(j.jsx)(u.a,{to:(null===(e=a.state)||void 0===e?void 0:e.from)||"/"}):Object(j.jsxs)("form",{className:$e.a.content,onSubmit:function(e){e.preventDefault(),i(Re(m,O))},children:[Object(j.jsx)("h1",{className:"text text_type_main-medium",children:"\u0412\u0445\u043e\u0434"}),Object(j.jsx)(d.Input,{type:"email",placeholder:"E-mail",name:"email",onChange:function(e){return b(e.target.value)},value:m,size:"default"}),Object(j.jsx)(d.PasswordInput,{name:"password",onChange:function(e){return f(e.target.value)},value:O}),Object(j.jsx)(d.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0439\u0442\u0438"}),r?Object(j.jsx)("p",{className:"".concat($e.a.error," text text_type_main-default mt-10"),children:r}):null,Object(j.jsxs)("p",{className:"text text_type_main-default text_color_inactive mt-20",children:["\u0412\u044b \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?"," ",Object(j.jsx)(s.c,{className:$e.a.link,to:"/register",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(j.jsxs)("p",{className:"text text_type_main-default text_color_inactive mt-4",children:["\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"," ",Object(j.jsx)(s.c,{className:$e.a.link,to:"/forgot-password",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})},tt=n(50),nt=n.n(tt);var ct=function(){var e=y((function(e){return e.userInfo})),t=e.userUnfo,n=e.registerError,r=v(),a=Object(c.useState)(""),i=Object(x.a)(a,2),o=i[0],l=i[1],m=Object(c.useState)(""),b=Object(x.a)(m,2),_=b[0],p=b[1],O=Object(c.useState)(""),f=Object(x.a)(O,2),h=f[0],g=f[1];return Object(c.useEffect)((function(){r({type:Ne})}),[r]),t.email?Object(j.jsx)(u.a,{to:"/",exact:!0}):Object(j.jsxs)("form",{className:nt.a.content,onSubmit:function(e){e.preventDefault(),r(Se(_,o,h))},children:[Object(j.jsx)("h1",{className:"text text_type_main-medium",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(j.jsx)(d.Input,{type:"text",placeholder:"\u0418\u043c\u044f",name:"name",onChange:function(e){return p(e.target.value)},value:_,size:"default"}),Object(j.jsx)(d.Input,{type:"email",placeholder:"E-mail",name:"email",onChange:function(e){return l(e.target.value)},value:o}),Object(j.jsx)(d.PasswordInput,{name:"password",onChange:function(e){return g(e.target.value)},value:h}),Object(j.jsx)(d.Button,{type:"primary",size:"medium",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(j.jsxs)("p",{className:"text text_type_main-default text_color_inactive mt-20",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? ",Object(j.jsx)(s.c,{className:nt.a.link,to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})]}),n?Object(j.jsx)("p",{className:"".concat(nt.a.error," text text_type_main-default mt-10"),children:n}):null]})},rt=n(72),at=n.n(rt);var it=function(){var e=Object(u.g)(),t=Object(c.useState)(""),n=Object(x.a)(t,2),r=n[0],a=n[1],i=v();return Object(j.jsxs)("form",{className:at.a.content,onSubmit:function(t){t.preventDefault(),i(Ue(r,e))},children:[Object(j.jsx)("h1",{className:"text text_type_main-medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(j.jsx)(d.Input,{type:"email",placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 e-mail",name:"email",onChange:function(e){return a(e.target.value)},value:r,size:"default"}),Object(j.jsx)(d.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"}),Object(j.jsxs)("p",{className:"text text_type_main-default text_color_inactive mt-20",children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c? ",Object(j.jsx)(s.c,{className:at.a.link,to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})},st=n(40),ot=n.n(st),lt=n(20),dt=n.n(lt),ut=function(e){var t=e.text,n=v(),c=y((function(e){return e.userInfo})).logOutError,r=Object(u.g)();return Object(j.jsxs)("nav",{className:dt.a.nav,children:[Object(j.jsx)(s.c,{exact:!0,to:"/profile",className:dt.a.link,activeClassName:dt.a.active,children:Object(j.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(j.jsx)(s.c,{to:"/profile/orders",className:dt.a.link,activeClassName:dt.a.active,children:Object(j.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})}),Object(j.jsx)(s.c,{exact:!0,to:"/login",className:dt.a.link,activeClassName:dt.a.active,onClick:function(e){e.preventDefault(),n(we(r)),r.replace({pathname:"/login"})},children:Object(j.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0412\u044b\u0445\u043e\u0434"})}),c?Object(j.jsx)("p",{className:"".concat(dt.a.error," text text_type_main-default mt-10"),children:c}):null,Object(j.jsx)("p",{className:"".concat(dt.a.info," text text_type_main-default text_color_inactive mt-20"),children:t})]})};var jt=function(){var e=v();Object(c.useEffect)((function(){e(Pe())}),[e]);var t=y((function(e){return e.userInfo})).userUnfo,n=Object(c.useState)({name:"",email:"",password:""}),r=Object(x.a)(n,2),a=r[0],i=r[1],s=Object(c.useState)({name:!1,email:!1,password:!1}),o=Object(x.a)(s,2),l=o[0],u=o[1];Object(c.useEffect)((function(){i({name:t.name,email:t.email,password:""}),u({name:!1,email:!1,password:!1})}),[t]);var m=Object.values(l).some(Boolean);return t.name?Object(j.jsx)("div",{className:ot.a.container,children:Object(j.jsxs)("div",{className:ot.a.profile,children:[Object(j.jsx)(ut,{text:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"}),Object(j.jsxs)("form",{className:ot.a["cont-input"],children:[Object(j.jsx)(d.Input,{type:"text",placeholder:"\u0418\u043c\u044f",name:"name",value:a.name,icon:l.name?"CloseIcon":"EditIcon",onChange:function(e){i(Object(ne.a)(Object(ne.a)({},a),{},{name:e.currentTarget.value})),e.currentTarget.value!==t.name?u(Object(ne.a)(Object(ne.a)({},l),{},{name:!0})):u(Object(ne.a)(Object(ne.a)({},l),{},{name:!1}))},onIconClick:function(){i(Object(ne.a)(Object(ne.a)({},a),{},{name:t.name})),u(Object(ne.a)(Object(ne.a)({},l),{},{name:!1}))}}),Object(j.jsx)(d.Input,{type:"email",name:"email",placeholder:"\u041b\u043e\u0433\u0438\u043d",value:a.email,onChange:function(e){i(Object(ne.a)(Object(ne.a)({},a),{},{email:e.currentTarget.value})),e.currentTarget.value!==t.email?u(Object(ne.a)(Object(ne.a)({},l),{},{email:!0})):u(Object(ne.a)(Object(ne.a)({},l),{},{email:!1}))},onIconClick:function(){i(Object(ne.a)(Object(ne.a)({},a),{},{email:t.email})),u(Object(ne.a)(Object(ne.a)({},l),{},{email:!1}))},icon:l.email?"CloseIcon":"EditIcon"}),Object(j.jsx)(d.Input,{name:"password",type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",value:a.password,onChange:function(e){i(Object(ne.a)(Object(ne.a)({},a),{},{password:e.currentTarget.value})),""!==e.currentTarget.value?u(Object(ne.a)(Object(ne.a)({},l),{},{password:!0})):u(Object(ne.a)(Object(ne.a)({},l),{},{password:!1}))},onIconClick:function(){i(Object(ne.a)(Object(ne.a)({},a),{},{password:""})),u(Object(ne.a)(Object(ne.a)({},l),{},{password:!1}))},icon:l.password?"CloseIcon":"EditIcon"}),m?Object(j.jsxs)("div",{className:ot.a.buttons,children:[Object(j.jsx)(d.Button,{type:"secondary",size:"medium",onClick:function(e){e.preventDefault(),i({name:t.name,email:t.email,password:""})},children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(j.jsx)(d.Button,{type:"primary",size:"medium",onClick:function(t){t.preventDefault(),e(Me(a.name,a.email,a.password))},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}):null]})]})}):Object(j.jsx)(G,{})},mt=n(14),bt=n.n(mt),_t="WS_CONNECTION_START",pt="WS_CONNECTION_SUCCESS",Ot="WS_CONNECTION_ERROR",xt="WS_CONNECTION_CLOSED",ft="WS_GET_ORDERS",ht="WS_SET_ORDER",gt="CLOSE_POPUP_ORDER_INFO",vt="OPEN_POPUP_ORDER_INFO",yt={wsInit:_t,onOpen:pt,onError:Ot,onClose:xt,onMessage:ft,wsSendMessage:"WS_SEND_MESSAGE"},Nt=n(73),Et=n.n(Nt),Tt=n(21),It=n.n(Tt),Ct=function(e){var t=new Date(e),n=new Date;n.setHours(0,0,0,0);var c,r=Math.ceil((+n-+t)/864e5),a=t.getHours()>9?t.getHours():"0".concat(t.getHours()),i=t.getMinutes()>9?t.getMinutes():"0".concat(t.getMinutes());return"".concat((c=r,0===c?"\u0421\u0435\u0433\u043e\u0434\u043d\u044f":1===c?"\u0412\u0447\u0435\u0440\u0430":c>4?"".concat(c," \u0434\u043d\u0435\u0439 \u043d\u0430\u0437\u0430\u0434"):c>1?"".concat(c," \u0434\u043d\u044f \u043d\u0430\u0437\u0430\u0434"):""),", ").concat(a,":").concat(i," i-GMT+").concat(-1*t.getTimezoneOffset()/60)},kt=function(e){var t,n=e.order,r=y((function(e){return e.burgerIngredientsData})).ingredients,a=Object(c.useMemo)((function(){return n.ingredients.map((function(e){return null===r||void 0===r?void 0:r.find((function(t){return t._id===e}))}))}),[n.ingredients,r]),i=Object(c.useMemo)((function(){return a.slice(0,6)}),[a]),s=Object(c.useMemo)((function(){return n.ingredients.length-i.length}),[n.ingredients,i]),o=Object(c.useMemo)((function(){return a.filter((function(e){return"bun"===(null===e||void 0===e?void 0:e.type)})).length}),[a]),l=Object(c.useMemo)((function(){return a.reduce((function(e,t){return"bun"!==(null===t||void 0===t?void 0:t.type)?e+((null===t||void 0===t?void 0:t.price)||0):e+(1===o?2*(null===t||void 0===t?void 0:t.price):null===t||void 0===t?void 0:t.price)}),0)}),[a,o]);return Object(j.jsxs)("div",{className:It.a.link,children:[Object(j.jsxs)("div",{className:It.a.top,children:[Object(j.jsxs)("span",{className:"text text_type_digits-default",children:["# ",n.number]}),Object(j.jsx)("span",{className:"text text_type_main-default text_color_inactive",children:Ct(n.updatedAt)})]}),Object(j.jsx)("span",{className:"".concat(It.a.name," text text_type_main-medium mt-6"),children:n.name}),Object(j.jsx)("span",{className:"text text_type_main-default mt-2 mb-6 ".concat("".concat("done"===(null===n||void 0===n?void 0:n.status)," && ").concat(It.a["status-done"])),children:(t=n.status,"done"===t?"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d":"pending"===t?"\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f":"pending"===t?"\u0421\u043e\u0437\u0434\u0430\u043d":null)}),Object(j.jsxs)("div",{className:It.a.bottom,children:[Object(j.jsx)("div",{className:It.a["image-boxes"],children:i.map((function(e,t){return Object(j.jsx)("div",{className:It.a["image-box"],style:{backgroundImage:'url("'.concat(null===e||void 0===e?void 0:e.image_mobile,'")')},children:t===i.length-1&&s?Object(j.jsxs)("p",{className:"".concat(It.a["hidden-count"]," text text_type_main-default"),children:["+",s]}):null},t)}))}),Object(j.jsxs)("div",{className:It.a.price,children:[Object(j.jsx)("span",{className:"text text_type_digits-default",children:l}),Object(j.jsx)(d.CurrencyIcon,{type:"primary"})]})]})]})},St=function(){var e=Object(u.h)(),t=y((function(e){return e.ordersInfo})).orders;return Object(j.jsx)("div",{className:Et.a.list,children:t?null===t||void 0===t?void 0:t.slice(0,10).map((function(t){return t.ingredients?Object(j.jsx)(s.b,{to:{pathname:"/feed/".concat(t._id),state:{background:e}},className:Et.a.link,children:Object(j.jsx)(kt,{order:t},t._id)},t._id):null})):Object(j.jsx)(G,{})})};var Rt=function(){var e=v();Object(c.useEffect)((function(){return e({type:_t,wsUrl:se}),function(){e({type:xt})}}),[e]);var t=y((function(e){return e.ordersInfo})),n=t.orders,r=t.total,a=t.totalToday;return Object(j.jsxs)("div",{className:" ".concat(bt.a.container," pt-10"),children:[Object(j.jsx)("h1",{className:"text text_type_main-large",children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),n?Object(j.jsxs)("div",{className:bt.a.content,children:[Object(j.jsx)("div",{className:bt.a.list,children:Object(j.jsx)(St,{})}),Object(j.jsxs)("div",{className:bt.a.info,children:[Object(j.jsxs)("div",{className:bt.a.status,children:[Object(j.jsxs)("div",{className:bt.a.item,children:[Object(j.jsx)("p",{className:"text text_type_main-medium mb-5",children:"\u0413\u043e\u0442\u043e\u0432\u044b:"}),Object(j.jsx)("div",{className:bt.a["item-done"],children:null===n||void 0===n?void 0:n.slice(0,10).map((function(e){return"done"===e.status?Object(j.jsx)("p",{className:"".concat(bt.a.done," text text_type_digits-default"),children:e.number},e._id):null}))})]}),Object(j.jsxs)("div",{className:bt.a.item,children:[Object(j.jsx)("p",{className:"text text_type_main-medium mb-5",children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435:"}),null===n||void 0===n?void 0:n.slice(0,10).map((function(e){return"pending"===e.status||"created"===e.status?Object(j.jsx)("p",{className:"".concat(bt.a.done," text text_type_digits-default"),children:e.number},e._id):null}))]})]}),Object(j.jsxs)("div",{className:"mt-15",children:[Object(j.jsx)("p",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f:"}),Object(j.jsx)("p",{className:"".concat(bt.a.glow," text text_type_digits-large"),children:r})]}),Object(j.jsxs)("div",{className:"mt-15",children:[Object(j.jsx)("p",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f:"}),Object(j.jsx)("p",{className:"".concat(bt.a.glow," text text_type_digits-large"),children:a})]})]})]}):Object(j.jsx)(G,{})]})},wt=n(103),Dt=n.n(wt),Pt=n(10),Mt=n.n(Pt),Ut="WS_CONNECTION_START",Ft="WS_CONNECTION_ERROR",Gt="WS_CONNECTION_CLOSED",Bt="WS_GET_ORDERS",Ht="WS_SET_ORDER",Lt={wsInit:Ut,onOpen:"WS_CONNECTION_SUCCESS",onError:Ft,onClose:Gt,onMessage:Bt,wsSendMessage:"WS_SEND_MESSAGE"},At=function(){var e=!!Object(u.j)("/profile"),t=v();Object(c.useEffect)((function(){t(e?{type:Ut,wsUrl:oe,token:re("accessToken")}:{type:_t,wsUrl:se})}),[t,e]);var n=y((function(e){return e.burgerIngredientsData})).ingredients,r=y((function(t){return e?t.ordersInfo:t.wsPrivateReducer})).orders,a=Object(u.i)().id,i=r&&r.find((function(e){return e._id===a})),s=r&&(null===i||void 0===i?void 0:i.ingredients),o=r&&(null===s||void 0===s?void 0:s.map((function(e){return null===n||void 0===n?void 0:n.find((function(t){return t._id===e}))}))),l=r&&(null===o||void 0===o?void 0:o.reduce((function(e,t){return e+((null===t||void 0===t?void 0:t.price)||0)}),0)),m=i&&function(e){return"done"===e?"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d":"pending"===e?"\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f":"pending"===e?"\u0421\u043e\u0437\u0434\u0430\u043d":null}(i.status);return r.length?i?Object(j.jsxs)("div",{className:Mt.a.order,children:[Object(j.jsxs)("span",{className:"text text_type_digits-default mb-10 ".concat(Mt.a.number),children:["#",null===i||void 0===i?void 0:i.number]}),Object(j.jsx)("h1",{className:"text text_type_main-medium mb-3 ".concat(Mt.a["left-align"]," ").concat(Mt.a["order-name"]," "),children:null===i||void 0===i?void 0:i.name}),Object(j.jsx)("span",{className:"text text_type_main-default mb-15 ".concat(Mt.a["left-align"]," ","".concat("done"===(null===i||void 0===i?void 0:i.status)," && ").concat(Mt.a["status-done"]),"   "),children:m}),Object(j.jsx)("span",{className:"text text_type_main-medium mb-6 ".concat(Mt.a["left-align"]),children:"\u0421\u043e\u0441\u0442\u0430\u0432:"}),Object(j.jsx)("ul",{className:Mt.a.ingredients,children:null===o||void 0===o?void 0:o.map((function(e,t){return Object(j.jsxs)("li",{className:Mt.a.ingredient,children:[Object(j.jsxs)("div",{className:Mt.a["ingredient-preview"],children:[Object(j.jsx)("div",{className:Mt.a["image-box"],style:{backgroundImage:'url("'.concat(null===e||void 0===e?void 0:e.image_mobile,'")')}}),Object(j.jsx)("span",{className:"text text_type_main-default mr-4 ml-4",children:null===e||void 0===e?void 0:e.name})]}),Object(j.jsx)("div",{children:Object(j.jsxs)("span",{className:"text text_type_digits-default ".concat(Mt.a.price),children:[null===e||void 0===e?void 0:e.price," ",Object(j.jsx)(d.CurrencyIcon,{type:"primary"})]})})]},t)}))}),Object(j.jsxs)("div",{className:"".concat(Mt.a["bottom-content"]),children:[Object(j.jsx)("span",{className:"text text_type_main-default text_color_inactive",children:Ct(i.updatedAt)}),Object(j.jsxs)("div",{className:Mt.a["order-price"],children:[Object(j.jsx)("span",{className:"text text_type_digits-default",children:l}),Object(j.jsx)(d.CurrencyIcon,{type:"primary"})]})]})]}):Object(j.jsx)(G,{}):null},qt=function(){return Object(j.jsx)("div",{className:Dt.a.block,children:Object(j.jsx)(At,{})})},Jt=n(74),Wt=n.n(Jt);var zt=function(){var e=Object(u.g)(),t=v(),n=y((function(e){return e.userInfo})).isResponsedEmail,r=Object(c.useState)(""),a=Object(x.a)(r,2),i=a[0],o=a[1],l=Object(c.useState)(""),m=Object(x.a)(l,2),b=m[0],_=m[1];return n?Object(j.jsxs)("form",{className:Wt.a.content,onSubmit:function(n){n.preventDefault(),t(Fe(i,b,e))},children:[Object(j.jsx)("h1",{className:"text text_type_main-medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(j.jsx)(d.PasswordInput,{name:"password",onChange:function(e){return o(e.target.value)},value:i}),Object(j.jsx)(d.Input,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430",name:"code",onChange:function(e){return _(e.target.value)},value:b}),Object(j.jsx)(d.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"}),Object(j.jsxs)("p",{className:"text text_type_main-default text_color_inactive mt-20",children:["\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c? ",Object(j.jsx)(s.c,{className:Wt.a.link,to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})]})]}):Object(j.jsx)(u.a,{to:"/login"})},Qt=function(){return Object(j.jsx)("h1",{className:"text text_type_main-large m-30",style:{textAlign:"center"},children:"Oops! 404 Error"})},Xt=n(104),Zt=n.n(Xt),Vt=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{className:"".concat(Zt.a.title," text text_type_main-large mt-10 mr-10 ml-10"),children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430"}),Object(j.jsx)(L,{})]})},Kt=n(48),Yt=function(e){var t=e.children,n=Object(Kt.a)(e,["children"]),c=Object(g.c)((function(e){return e.userInfo})).userUnfo;return Object(j.jsx)(u.b,Object(ne.a)(Object(ne.a)({},n),{},{render:function(e){var n=e.location;return c.email?t:Object(j.jsx)(u.a,{to:{pathname:"/login",state:{from:n}}})}}))},$t=n(41),en=n.n($t);var tn=function(){var e=Object(u.h)(),t=v(),n=y((function(e){return e.burgerIngredientsData})).ingredients;Object(c.useEffect)((function(){return t({type:Ut,wsUrl:oe,token:re("accessToken")}),function(){t({type:Gt})}}),[t]);var r=y((function(e){return e.wsPrivateReducer})).orders;return Object(j.jsx)("div",{className:en.a.orders,children:Object(j.jsxs)("div",{className:en.a.container,children:[Object(j.jsx)(ut,{text:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0441\u0432\u043e\u044e \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(j.jsx)("div",{className:en.a.list,children:r.length&&n.length?r.map((function(t){return Object(j.jsx)(s.b,{to:{pathname:"/profile/orders/".concat(t._id),state:{background:e}},className:en.a.link,children:Object(j.jsx)(kt,{order:t},t._id)},t._id)})):Object(j.jsx)(G,{})})]})})},nn="GET_ITEMS_REQUEST",cn="GET_ITEMS_SUCCESS",rn="GET_ITEMS_FAILED",an=function(){return function(e){e({type:nn}),fetch(le).then((function(e){return e.ok?e.json():Promise.reject(e.status)})).then((function(t){return e({type:cn,ingredients:t.data})})).catch((function(t){return e({type:rn})}))}},sn=function(){var e=v();Object(c.useEffect)((function(){e(Pe()),e(an()),e(De())}),[e]);var t=function(){var t=Object(u.h)(),n=Object(u.g)(),c="PUSH"===n.action,r=function(){e({type:gt}),n.go(-1)},a="PUSH"===n.action&&t.state&&t.state.background;return Object(j.jsxs)("div",{className:_.a.app,children:[Object(j.jsx)(m,{}),Object(j.jsxs)(u.d,{location:a||t,children:[Object(j.jsx)(u.b,{path:"/",exact:!0,children:Object(j.jsx)(Ke,{})}),Object(j.jsx)(u.b,{path:"/login",exact:!0,children:Object(j.jsx)(et,{})}),Object(j.jsx)(u.b,{path:"/ingredients/:id",exact:!0,children:Object(j.jsx)(Vt,{})}),Object(j.jsx)(u.b,{path:"/register",exact:!0,children:Object(j.jsx)(ct,{})}),Object(j.jsx)(u.b,{path:"/forgot-password",exact:!0,children:Object(j.jsx)(it,{})}),Object(j.jsx)(u.b,{path:"/reset-password",exact:!0,children:Object(j.jsx)(zt,{})}),Object(j.jsx)(u.b,{path:"/feed",exact:!0,children:Object(j.jsx)(Rt,{})}),Object(j.jsx)(u.b,{path:"/feed/:id",exact:!0,children:Object(j.jsx)(qt,{})}),Object(j.jsx)(Yt,{path:"/profile",exact:!0,children:Object(j.jsx)(jt,{})}),Object(j.jsx)(Yt,{path:"/profile/orders",exact:!0,children:Object(j.jsx)(tn,{})}),Object(j.jsx)(Yt,{path:"/profile/orders/:id",exact:!0,children:Object(j.jsx)(qt,{})}),Object(j.jsx)(u.b,{children:Object(j.jsx)(Qt,{})})]}),a&&Object(j.jsxs)(j.Fragment,{children:[c?Object(j.jsx)(u.b,{path:"/feed/:id",children:Object(j.jsx)(X,{title:"",onModalHideClick:r,children:Object(j.jsx)(qt,{})})}):Object(j.jsx)(u.b,{path:"/feed/:id",exact:!0,children:Object(j.jsx)(qt,{})}),Object(j.jsx)(u.b,{path:"/profile/orders/:id",children:Object(j.jsx)(X,{title:"",onModalHideClick:r,children:Object(j.jsx)(qt,{})})})]})]})};return Object(j.jsx)(s.a,{children:Object(j.jsx)(t,{})})},on=n(25),ln=n(105),dn=n(24),un={addedIngredients:[],currentTab:"buns"},jn={numberOrder:null,orderRequest:!1,orderRequestFaild:!1},mn={ingredients:[],itemsRequest:!1,itemsFailed:!1},bn={selectedIngredient:null},_n={userUnfo:{name:"",email:""},userRequest:!1,registerError:"",loginError:"",logOutError:"",isResponsedEmail:!1,refreshTokenRequest:!1,refreshTokenSuccess:!1,refreshTokenError:!1},pn={wsConnected:!1,orders:[],currentOrder:0,total:0,totalToday:0,error:null,popupOrderInfo:!1},On={wsConnected:!1,orders:[],currentOrder:0,total:0,totalToday:0,error:null},xn=Object(on.b)({burgersConstructor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(ne.a)(Object(ne.a)({},e),{},{addedIngredients:"bun"===t.ingredient.type?[].concat(Object(dn.a)(e.addedIngredients.filter((function(e){return"bun"!==e.type}))),[t.ingredient,t.ingredient]):[].concat(Object(dn.a)(e.addedIngredients),[t.ingredient])});case R:return Object(ne.a)(Object(ne.a)({},e),{},{addedIngredients:e.addedIngredients.filter((function(e,n){return n!==t.index}))});case D:return Object(ne.a)(Object(ne.a)({},e),{},{addedIngredients:[]});case w:var n=Object(dn.a)(e.addedIngredients),c=n[t.dragIndex],r=n[t.hoverIndex];return n.splice(t.dragIndex,1,r),n.splice(t.hoverIndex,1,c),Object(ne.a)(Object(ne.a)({},e),{},{addedIngredients:n});case P:return Object(ne.a)(Object(ne.a)({},e),{},{currentTab:t.activeTab});default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be:return Object(ne.a)(Object(ne.a)({},e),{},{orderRequest:!0});case Ge:return Object(ne.a)(Object(ne.a)({},e),{},{orderRequest:!1,numberOrder:t.order});case He:return Object(ne.a)(Object(ne.a)({},e),{},{orderRequestFaild:!0});case Le:return Object(ne.a)(Object(ne.a)({},e),{},{orderRequestFaild:!1,numberOrder:null});default:return e}},burgerIngredientsData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nn:return Object(ne.a)(Object(ne.a)({},e),{},{itemsRequest:!0});case cn:return Object(ne.a)(Object(ne.a)({},e),{},{itemsFailed:!1,ingredients:t.ingredients,itemsRequest:!1});case rn:return Object(ne.a)(Object(ne.a)({},e),{},{itemsFailed:!0,itemsRequest:!1});default:return e}},ingredientInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(ne.a)(Object(ne.a)({},e),{},{selectedIngredient:t.info});case k:return Object(ne.a)(Object(ne.a)({},e),{},{selectedIngredient:null});default:return e}},userInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:return Object(ne.a)(Object(ne.a)({},e),{},{userRequest:!0});case he:return Object(ne.a)(Object(ne.a)({},e),{},{userRequest:!1,userUnfo:t.user});case Ne:return Object(ne.a)(Object(ne.a)({},e),{},{registerError:t.message});case ye:return Object(ne.a)(Object(ne.a)({},e),{},{loginError:t.message});case Ee:return Object(ne.a)(Object(ne.a)({},e),{},{logOutError:t.message});case ge:return Object(ne.a)(Object(ne.a)({},e),{},{userRequest:!1,userUnfo:{name:"",email:""}});case ve:return Object(ne.a)(Object(ne.a)({},e),{},{isResponsedEmail:!0});case Te:return Object(ne.a)(Object(ne.a)({},e),{},{refreshTokenRequest:!0,refreshTokenSuccess:!1,refreshTokenError:!1});case Ie:return Object(ne.a)(Object(ne.a)({},e),{},{refreshTokenRequest:!1,refreshTokenSuccess:!0,refreshTokenError:!1});case Ce:return Object(ne.a)(Object(ne.a)({},e),{},{refreshTokenRequest:!1,refreshTokenSuccess:!1,refreshTokenError:!0});default:return e}},ordersInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pt:return Object(ne.a)(Object(ne.a)({},e),{},{wsConnected:!0});case xt:return Object(ne.a)(Object(ne.a)({},e),{},{wsConnected:!1,orders:[],total:0,totalToday:0});case ft:return Object(ne.a)(Object(ne.a)({},e),{},{orders:Object(dn.a)(t.payload.orders),total:t.payload.total,totalToday:t.payload.totalToday});case ht:return Object(ne.a)(Object(ne.a)({},e),{},{currentOrder:t.number});case Ot:return Object(ne.a)(Object(ne.a)({},e),{},{wsConnected:!1,error:t.payload});case vt:return Object(ne.a)(Object(ne.a)({},e),{},{popupOrderInfo:!0});case gt:return Object(ne.a)(Object(ne.a)({},e),{},{wsConnected:!0,popupOrderInfo:!1});default:return e}},wsPrivateReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ut:return Object(ne.a)(Object(ne.a)({},e),{},{wsConnected:!0});case Ft:return Object(ne.a)(Object(ne.a)({},e),{},{wsConnected:!1,error:t.payload});case Gt:return Object(ne.a)(Object(ne.a)({},e),{},{wsConnected:!1,orders:[],total:0,totalToday:0});case Bt:return Object(ne.a)(Object(ne.a)({},e),{},{orders:Object(dn.a)(t.payload.orders),total:t.payload.total,totalToday:t.payload.totalToday});case Ht:return Object(ne.a)(Object(ne.a)({},e),{},{currentOrder:t.number});default:return e}}}),fn=function(e){return function(t){var n=null;return function(c){return function(r){var a=t.dispatch,i=r.type,s=r.payload,o=r.wsUrl,l=r.token,d=e.wsInit,u=e.wsSendMessage,j=e.onOpen,m=e.onClose,b=e.onError,_=e.onMessage;if(i===d&&(n=l?new WebSocket("".concat(o,"?token=").concat(l)):new WebSocket("".concat(o))),n&&(n.onopen=function(e){a({type:j,payload:e})},n.onerror=function(e){a({type:b,payload:e})},n.onmessage=function(e){var t=e.data,n=JSON.parse(t),c=(n.success,Object(Kt.a)(n,["success"]));a({type:_,payload:c})},n.onclose=function(e){a({type:m,payload:e})},i===u)){var p=l?Object(ne.a)(Object(ne.a)({},s),{},{token:l}):Object(ne.a)({},s);n.send(JSON.stringify(p))}c(r)}}}},hn=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||on.c)(Object(on.a)(ln.a,fn(yt),fn(Lt))),gn=Object(on.d)(xn,hn);i.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(g.a,{store:gn,children:Object(j.jsx)(s.a,{children:Object(j.jsx)(sn,{})})})}),document.getElementById("root"))},19:function(e,t,n){e.exports={types:"burger-ingredients_types__1v1ig",tabs:"burger-ingredients_tabs__jpU6D",content:"burger-ingredients_content__3qE6k",list:"burger-ingredients_list__mcjCA",container:"burger-ingredients_container__OS2zY"}},20:function(e,t,n){e.exports={nav:"profile-navigation_nav__3bm9J",link:"profile-navigation_link__2iGXF",active:"profile-navigation_active__1cm7v",error:"profile-navigation_error__2IybX",info:"profile-navigation_info__e2yNk"}},21:function(e,t,n){e.exports={link:"order-item_link__jG0X3",name:"order-item_name__3zBB5",top:"order-item_top__F3nUc",bottom:"order-item_bottom__2vstJ","image-boxes":"order-item_image-boxes__1SCrQ","hidden-count":"order-item_hidden-count__3h5lk","image-box":"order-item_image-box__joyF0",price:"order-item_price__1DPAM","status-done":"order-item_status-done__2GNAb"}},26:function(e,t,n){e.exports={content:"ingredient-details_content__2EtBD",image_wrapper:"ingredient-details_image_wrapper__1TYlm",nutrition:"ingredient-details_nutrition__24wk6",item:"ingredient-details_item__3zyQk"}},38:function(e,t,n){e.exports={popup:"modal_popup__27ANh",container:"modal_container__vZLnJ","close-icon":"modal_close-icon__1Xkcd"}},39:function(e,t,n){e.exports={content:"login-page_content__31lrX",link:"login-page_link__21uo6",error:"login-page_error__1QT_3"}},40:function(e,t,n){e.exports={container:"profile-page_container__djX_l",profile:"profile-page_profile__3d7hB","cont-input":"profile-page_cont-input__2Jv_F",info:"profile-page_info__1v3Rn"}},41:function(e,t,n){e.exports={orders:"user-orders_orders__7rZdm",container:"user-orders_container__3u9_i",content:"user-orders_content__1pNLa",text:"user-orders_text__3Kf4S",info:"user-orders_info__100Xi",list:"user-orders_list__2qyrb",link:"user-orders_link__2LJD_"}},49:function(e,t,n){e.exports={content:"ingredient-item_content__3idMW",caption:"ingredient-item_caption__3lM-N",price:"ingredient-item_price__2Jsxd"}},50:function(e,t,n){e.exports={content:"registration-page_content__2jLf4",link:"registration-page_link__-gNGX",error:"registration-page_error__1HlIC"}},68:function(e,t,n){e.exports={main:"main_main__NrLEB",content:"main_content__FvZm-"}},70:function(e,t,n){e.exports={container:"order-details_container__2ccwT",image:"order-details_image__14GJw"}},72:function(e,t,n){e.exports={content:"forgot-password_content__23uUT",link:"forgot-password_link__11UR1"}},73:function(e,t,n){e.exports={list:"order-item-list_list__3iElm",link:"order-item-list_link__2PBm7"}},74:function(e,t,n){e.exports={content:"reset-password_content__1o7Mf",link:"reset-password_link__3VYlA"}},97:function(e,t,n){e.exports={app:"app_app__2Ct51"}}},[[189,1,2]]]);
//# sourceMappingURL=main.986239b2.chunk.js.map